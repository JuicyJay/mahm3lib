\hypertarget{pio_8h}{\section{src/pio.h File Reference}
\label{pio_8h}\index{src/pio.\+h@{src/pio.\+h}}
}


Digital I\+O controller.  


{\ttfamily \#include $<$stdint.\+h$>$}\\*
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structpio__init__param}{pio\+\_\+init\+\_\+param}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\hypertarget{pio_8h_a7a7684a34ca6604e31e77778751955a9}{\#define {\bfseries P\+I\+O\+\_\+\+P\+O\+R\+T\+A}~0x400\+E0\+E00}\label{pio_8h_a7a7684a34ca6604e31e77778751955a9}

\item 
\hypertarget{pio_8h_a255fdda95f8ed80f62e8f111aa5a651d}{\#define {\bfseries P\+I\+O\+\_\+\+P\+O\+R\+T\+B}~0x400\+E1000}\label{pio_8h_a255fdda95f8ed80f62e8f111aa5a651d}

\item 
\hypertarget{pio_8h_a2e02855ce534995130dc107f8ae791a3}{\#define {\bfseries P\+I\+O\+\_\+\+P\+O\+R\+T\+C}~0x400\+E1200}\label{pio_8h_a2e02855ce534995130dc107f8ae791a3}

\item 
\hypertarget{pio_8h_af9187fa01bb2b64498b495b9277e6ad7}{\#define {\bfseries P\+I\+O\+\_\+\+P\+O\+R\+T\+D}~0x400\+E1400}\label{pio_8h_af9187fa01bb2b64498b495b9277e6ad7}

\item 
\hypertarget{pio_8h_a74321406d1e75bfe2bc854b3c6482c50}{\#define {\bfseries P\+I\+O\+\_\+\+P\+O\+R\+T\+E}~0x400\+E1600}\label{pio_8h_a74321406d1e75bfe2bc854b3c6482c50}

\item 
\hypertarget{pio_8h_a047f3988993c8cdb612ce29271b13935}{\#define {\bfseries P\+I\+O\+\_\+\+P\+O\+R\+T\+F}~0x400\+E1800}\label{pio_8h_a047f3988993c8cdb612ce29271b13935}

\item 
\hypertarget{pio_8h_a6f1c3a5948df39dd5472e3f5aca32fea}{\#define {\bfseries P\+I\+O\+\_\+\+P\+E\+R}~0x0000}\label{pio_8h_a6f1c3a5948df39dd5472e3f5aca32fea}

\item 
\hypertarget{pio_8h_a52661d47da252fca8ab4b4d74d81b2e1}{\#define {\bfseries P\+I\+O\+\_\+\+P\+D\+R}~0x0004}\label{pio_8h_a52661d47da252fca8ab4b4d74d81b2e1}

\item 
\hypertarget{pio_8h_aad72e429751874c88afee54ed4094f4c}{\#define {\bfseries P\+I\+O\+\_\+\+P\+S\+R}~0x0008}\label{pio_8h_aad72e429751874c88afee54ed4094f4c}

\item 
\hypertarget{pio_8h_a626bde48733b96df120da1492cc7f657}{\#define {\bfseries P\+I\+O\+\_\+\+O\+E\+R}~0x0010}\label{pio_8h_a626bde48733b96df120da1492cc7f657}

\item 
\hypertarget{pio_8h_afc9c83f7a53520d6f0a4693ed1a71290}{\#define {\bfseries P\+I\+O\+\_\+\+O\+D\+R}~0x0014}\label{pio_8h_afc9c83f7a53520d6f0a4693ed1a71290}

\item 
\hypertarget{pio_8h_af8bdb0ba10c8c78d1285766910b7a450}{\#define {\bfseries P\+I\+O\+\_\+\+O\+S\+R}~0x0018}\label{pio_8h_af8bdb0ba10c8c78d1285766910b7a450}

\item 
\hypertarget{pio_8h_adef961dcf226c9ec588d2c7fb39ce8f6}{\#define {\bfseries P\+I\+O\+\_\+\+S\+O\+D\+R}~0x0030}\label{pio_8h_adef961dcf226c9ec588d2c7fb39ce8f6}

\item 
\hypertarget{pio_8h_a08afe74b98d59d6e30a205282746e95e}{\#define {\bfseries P\+I\+O\+\_\+\+C\+O\+D\+R}~0x0034}\label{pio_8h_a08afe74b98d59d6e30a205282746e95e}

\item 
\hypertarget{pio_8h_aabe5107a622c09e8a890796c31f0eadb}{\#define {\bfseries P\+I\+O\+\_\+\+O\+D\+S\+R}~0x0038}\label{pio_8h_aabe5107a622c09e8a890796c31f0eadb}

\item 
\hypertarget{pio_8h_a72c92c6a4967b7156fdefe7c3dd81710}{\#define {\bfseries P\+I\+O\+\_\+\+P\+U\+E\+R}~0x0064}\label{pio_8h_a72c92c6a4967b7156fdefe7c3dd81710}

\item 
\hypertarget{pio_8h_ad7b1eaf86720e6d1276aa61fda88ada8}{\#define {\bfseries P\+I\+O\+\_\+\+P\+U\+D\+R}~0x0060}\label{pio_8h_ad7b1eaf86720e6d1276aa61fda88ada8}

\item 
\hypertarget{pio_8h_a424b9ccca3a5cfa6345687ccaf96fe02}{\#define {\bfseries P\+I\+O\+\_\+\+P\+U\+S\+R}~0x0068}\label{pio_8h_a424b9ccca3a5cfa6345687ccaf96fe02}

\item 
\hypertarget{pio_8h_a2c967f26a206cd809e6fe94cd9db48f9}{\#define {\bfseries P\+I\+O\+\_\+\+P\+D\+S\+R}~0x003\+C}\label{pio_8h_a2c967f26a206cd809e6fe94cd9db48f9}

\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
\hypertarget{pio_8h_a301d2d8f4ff8ef81ef00efb57be0bd90}{typedef struct \hyperlink{structpio__init__param}{pio\+\_\+init\+\_\+param} {\bfseries pio\+\_\+init\+\_\+param}}\label{pio_8h_a301d2d8f4ff8ef81ef00efb57be0bd90}

\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
\hypertarget{pio_8h_ab55bcabb2b73bde1a759aff5e53c5f22}{enum {\bfseries pio\+\_\+init\+\_\+setting} \{ {\bfseries O\+F\+F}, 
{\bfseries O\+N}
 \}}\label{pio_8h_ab55bcabb2b73bde1a759aff5e53c5f22}

\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{pio_8h_a784f4c239a99dd5443db74b4c3db369d}{pio\+\_\+init} (\hyperlink{structpio__init__param}{pio\+\_\+init\+\_\+param} $\ast$param)
\item 
void \hyperlink{pio_8h_a7ebfed6707f54990b75f6d8c9a0b4a0e}{pio\+\_\+close} ()
\item 
void \hyperlink{pio_8h_a4ec4a3ae76c15c363e909afcc2fc3597}{pio\+\_\+conf\+\_\+pin} (uint32\+\_\+t port, uint8\+\_\+t pin\+\_\+number, uint8\+\_\+t input, uint8\+\_\+t pullup)
\item 
void \hyperlink{pio_8h_ad1034d3c5dfb7b83ce2b284243f5f5c8}{pio\+\_\+conf\+\_\+port} (uint32\+\_\+t port, uint32\+\_\+t inputs, uint32\+\_\+t pullups)
\item 
void \hyperlink{pio_8h_a359dee91e8468a374cf884f67ae88bc0}{pio\+\_\+set\+\_\+pin} (uint32\+\_\+t port, uint8\+\_\+t pin\+\_\+number, uint8\+\_\+t level)
\item 
void \hyperlink{pio_8h_a40b4e865af50abf6489a9fb7b58dbb84}{pio\+\_\+set\+\_\+port} (uint32\+\_\+t port, uint32\+\_\+t levels)
\item 
uint8\+\_\+t \hyperlink{pio_8h_ac021821f75993836caaccd45a49fa1e0}{pio\+\_\+read\+\_\+pin} (uint32\+\_\+t port, uint8\+\_\+t pin\+\_\+number)
\item 
uint32\+\_\+t \hyperlink{pio_8h_a2f8719cfb486e989c904f8f82ebe4938}{pio\+\_\+read\+\_\+port} (uint32\+\_\+t port)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Digital I\+O controller. 

The functions in this file controls the digital input and output of the processor

\begin{DoxyAuthor}{Author}
Theodor Lindquist 

Soded Alatia
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
0.\+2 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
18-\/09-\/2014
\end{DoxyDate}
\begin{DoxyPrecond}{Precondition}
First initialize the board, if you want to read inputs, you need to call digital\+\_\+io\+\_\+init() 
\end{DoxyPrecond}


\subsection{Function Documentation}
\hypertarget{pio_8h_a7ebfed6707f54990b75f6d8c9a0b4a0e}{\index{pio.\+h@{pio.\+h}!pio\+\_\+close@{pio\+\_\+close}}
\index{pio\+\_\+close@{pio\+\_\+close}!pio.\+h@{pio.\+h}}
\subsubsection[{pio\+\_\+close}]{\setlength{\rightskip}{0pt plus 5cm}void pio\+\_\+close (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{pio_8h_a7ebfed6707f54990b75f6d8c9a0b4a0e}
Deinitialize the clocks in the power management controller, saves power if you don't need to use digital\+\_\+io\+\_\+read\+\_\+$\ast$ anymore. \hypertarget{pio_8h_a4ec4a3ae76c15c363e909afcc2fc3597}{\index{pio.\+h@{pio.\+h}!pio\+\_\+conf\+\_\+pin@{pio\+\_\+conf\+\_\+pin}}
\index{pio\+\_\+conf\+\_\+pin@{pio\+\_\+conf\+\_\+pin}!pio.\+h@{pio.\+h}}
\subsubsection[{pio\+\_\+conf\+\_\+pin}]{\setlength{\rightskip}{0pt plus 5cm}void pio\+\_\+conf\+\_\+pin (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{port, }
\item[{uint8\+\_\+t}]{pin\+\_\+number, }
\item[{uint8\+\_\+t}]{input, }
\item[{uint8\+\_\+t}]{pullup}
\end{DoxyParamCaption}
)}}\label{pio_8h_a4ec4a3ae76c15c363e909afcc2fc3597}
Configure a pin to be either an input or an output 
\begin{DoxyParams}{Parameters}
{\em port} & the port to which the pin belongs \\
\hline
{\em pin\+\_\+number} & the pin number (on the port) to configure \\
\hline
{\em input} & (optional) set to 1 to configure pin as an input, 0 to configure as an output (default) \\
\hline
{\em pullup} & (optional) set to 1 to configure pin with internal pullup (default), 0 to configure without \\
\hline
\end{DoxyParams}
\hypertarget{pio_8h_ad1034d3c5dfb7b83ce2b284243f5f5c8}{\index{pio.\+h@{pio.\+h}!pio\+\_\+conf\+\_\+port@{pio\+\_\+conf\+\_\+port}}
\index{pio\+\_\+conf\+\_\+port@{pio\+\_\+conf\+\_\+port}!pio.\+h@{pio.\+h}}
\subsubsection[{pio\+\_\+conf\+\_\+port}]{\setlength{\rightskip}{0pt plus 5cm}void pio\+\_\+conf\+\_\+port (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{port, }
\item[{uint32\+\_\+t}]{inputs, }
\item[{uint32\+\_\+t}]{pullups}
\end{DoxyParamCaption}
)}}\label{pio_8h_ad1034d3c5dfb7b83ce2b284243f5f5c8}
Configure a port (multiple pins) to be either inputs or outputs 
\begin{DoxyParams}{Parameters}
{\em port} & the port to configure \\
\hline
{\em inputs} & set a bit to 1 to configure the corresponding pin as an input, 0 to configure as output \\
\hline
{\em pullups} & set a bit to 1 to configure the corresponding pin with an internal pullup, 0 to configure without internal pullup \\
\hline
\end{DoxyParams}
\hypertarget{pio_8h_a784f4c239a99dd5443db74b4c3db369d}{\index{pio.\+h@{pio.\+h}!pio\+\_\+init@{pio\+\_\+init}}
\index{pio\+\_\+init@{pio\+\_\+init}!pio.\+h@{pio.\+h}}
\subsubsection[{pio\+\_\+init}]{\setlength{\rightskip}{0pt plus 5cm}void pio\+\_\+init (
\begin{DoxyParamCaption}
\item[{{\bf pio\+\_\+init\+\_\+param} $\ast$}]{param}
\end{DoxyParamCaption}
)}}\label{pio_8h_a784f4c239a99dd5443db74b4c3db369d}
Initialize the clocks in the power management controller, neccecary for using digital\+\_\+io\+\_\+read\+\_\+$\ast$. Periphial I\+Ds for P\+I\+O$\ast$ P\+I\+O P\+I\+D B\+I\+T \#pins P\+I\+O\+A P\+I\+D11 11 30 P\+I\+O\+B P\+I\+D12 12 32 P\+I\+O\+C P\+I\+D13 13 31 P\+I\+O\+D P\+I\+D14 14 10 P\+I\+O\+E P\+I\+D15 15 -\/ P\+I\+O\+F P\+I\+D16 16 -\/

Set bits 11 to 16 in P\+M\+C\+\_\+\+P\+C\+E\+R0 (0x400\+E0610) to enable clocks for a port To do this, first clear W\+P\+E\+N bit (bit 0) in P\+M\+C\+\_\+\+W\+P\+M\+R (0x400\+E06\+E4)\hypertarget{pio_8h_ac021821f75993836caaccd45a49fa1e0}{\index{pio.\+h@{pio.\+h}!pio\+\_\+read\+\_\+pin@{pio\+\_\+read\+\_\+pin}}
\index{pio\+\_\+read\+\_\+pin@{pio\+\_\+read\+\_\+pin}!pio.\+h@{pio.\+h}}
\subsubsection[{pio\+\_\+read\+\_\+pin}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t pio\+\_\+read\+\_\+pin (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{port, }
\item[{uint8\+\_\+t}]{pin\+\_\+number}
\end{DoxyParamCaption}
)}}\label{pio_8h_ac021821f75993836caaccd45a49fa1e0}
Check if a pin is either high or low 
\begin{DoxyParams}{Parameters}
{\em port} & the port to which the pin belongs \\
\hline
{\em pin\+\_\+number} & the pin number (on the port) to check \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 if high, 0 if low 
\end{DoxyReturn}
\hypertarget{pio_8h_a2f8719cfb486e989c904f8f82ebe4938}{\index{pio.\+h@{pio.\+h}!pio\+\_\+read\+\_\+port@{pio\+\_\+read\+\_\+port}}
\index{pio\+\_\+read\+\_\+port@{pio\+\_\+read\+\_\+port}!pio.\+h@{pio.\+h}}
\subsubsection[{pio\+\_\+read\+\_\+port}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t pio\+\_\+read\+\_\+port (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{port}
\end{DoxyParamCaption}
)}}\label{pio_8h_a2f8719cfb486e989c904f8f82ebe4938}
Check the levels of an entire port 
\begin{DoxyParams}{Parameters}
{\em port} & the port to check \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A bit with value 1 means the corresponding pin is high, bit with 0 means the pin is low 
\end{DoxyReturn}
\hypertarget{pio_8h_a359dee91e8468a374cf884f67ae88bc0}{\index{pio.\+h@{pio.\+h}!pio\+\_\+set\+\_\+pin@{pio\+\_\+set\+\_\+pin}}
\index{pio\+\_\+set\+\_\+pin@{pio\+\_\+set\+\_\+pin}!pio.\+h@{pio.\+h}}
\subsubsection[{pio\+\_\+set\+\_\+pin}]{\setlength{\rightskip}{0pt plus 5cm}void pio\+\_\+set\+\_\+pin (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{port, }
\item[{uint8\+\_\+t}]{pin\+\_\+number, }
\item[{uint8\+\_\+t}]{level}
\end{DoxyParamCaption}
)}}\label{pio_8h_a359dee91e8468a374cf884f67ae88bc0}
Set a pin to either a high or a low level 
\begin{DoxyParams}{Parameters}
{\em port} & the port to which the pin belongs \\
\hline
{\em pin\+\_\+number} & the pin number (on the port) to configure \\
\hline
{\em level} & 1 is high, 0 is low \\
\hline
\end{DoxyParams}
\hypertarget{pio_8h_a40b4e865af50abf6489a9fb7b58dbb84}{\index{pio.\+h@{pio.\+h}!pio\+\_\+set\+\_\+port@{pio\+\_\+set\+\_\+port}}
\index{pio\+\_\+set\+\_\+port@{pio\+\_\+set\+\_\+port}!pio.\+h@{pio.\+h}}
\subsubsection[{pio\+\_\+set\+\_\+port}]{\setlength{\rightskip}{0pt plus 5cm}void pio\+\_\+set\+\_\+port (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{port, }
\item[{uint32\+\_\+t}]{levels}
\end{DoxyParamCaption}
)}}\label{pio_8h_a40b4e865af50abf6489a9fb7b58dbb84}
Set an entire port to either high or low levels 
\begin{DoxyParams}{Parameters}
{\em port} & the port to set levels on \\
\hline
{\em levels} & set a bit to 1 to set a high level for the correspondingpin, 0 to set a low level \\
\hline
\end{DoxyParams}
